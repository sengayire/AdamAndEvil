{"ast":null,"code":"import _objectWithoutProperties from \"/Users/sengayire.prince/Projects/react-material-kit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _toConsumableArray from \"/Users/sengayire.prince/Projects/react-material-kit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/sengayire.prince/Projects/react-material-kit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/sengayire.prince/Projects/react-material-kit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/sengayire.prince/Projects/react-material-kit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sengayire.prince/Projects/react-material-kit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sengayire.prince/Projects/react-material-kit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sengayire.prince/Projects/react-material-kit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/sengayire.prince/Projects/react-material-kit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/sengayire.prince/Projects/react-material-kit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/sengayire.prince/Projects/react-material-kit/src/views/LoginPage/LoginPage.jsx\";\nimport React from \"react\";\nimport { connect } from \"react-redux\"; // utils\n\nimport Cookies from \"../../utils/Cookies\";\nimport { login } from \"../../store/actions\"; // @material-ui/core components\n\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Icon from \"@material-ui/core/Icon\"; // @material-ui/icons\n\nimport Email from \"@material-ui/icons/Email\";\nimport People from \"@material-ui/icons/People\"; // core components\n\nimport Header from \"components/Header/Header.jsx\";\nimport HeaderLinks from \"components/Header/HeaderLinks.jsx\";\nimport Footer from \"components/Footer/Footer.jsx\";\nimport GridContainer from \"components/Grid/GridContainer.jsx\";\nimport GridItem from \"components/Grid/GridItem.jsx\";\nimport Button from \"components/CustomButtons/Button.jsx\";\nimport Card from \"components/Card/Card.jsx\";\nimport CardBody from \"components/Card/CardBody.jsx\";\nimport CardHeader from \"components/Card/CardHeader.jsx\";\nimport CardFooter from \"components/Card/CardFooter.jsx\";\nimport CustomInput from \"components/CustomInput/CustomInput.jsx\"; // assets\n\nimport loginPageStyle from \"assets/jss/material-kit-react/views/loginPage.jsx\";\nimport image from \"assets/img/bg7.jpg\";\n\nvar LoginPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LoginPage, _React$Component);\n\n  function LoginPage(props) {\n    var _this;\n\n    _classCallCheck(this, LoginPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginPage).call(this, props)); // we use this to make the card to appear after the page has been rendered\n\n    _this.state = {\n      cardAnimaton: \"cardHidden\",\n      email: {\n        value: \"\",\n        errors: []\n      },\n      password: {\n        value: \"\",\n        errors: []\n      }\n    };\n    _this.handleInputChange = _this.handleInputChange.bind(_assertThisInitialized(_this));\n    _this.submitForm = _this.submitForm.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(LoginPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // we add a hidden class to the card and after 700 ms we delete it and the transition appears\n      setTimeout(function () {\n        this.setState({\n          cardAnimaton: \"\"\n        });\n      }.bind(this), 700);\n    }\n  }, {\n    key: \"handleInputChange\",\n    value: function handleInputChange(e) {\n      var _this2 = this;\n\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n      this.setState(function (state) {\n        return _defineProperty({}, name, _objectSpread({}, _this2.state[name], {\n          value: value\n        }));\n      });\n    }\n  }, {\n    key: \"submitForm\",\n    value: function submitForm(e) {\n      var _this3 = this;\n\n      e.preventDefault();\n      var user = {\n        email: this.state.email.value,\n        password: this.state.password.value\n      };\n      var url = \"http://localhost:3000/api/users/login\";\n      fetch(url, {\n        method: \"POST\",\n        // *GET, POST, PUT, DELETE, etc.\n        mode: \"cors\",\n        // no-cors, cors, *same-origin\n        cache: \"no-cache\",\n        // *default, no-cache, reload, force-cache, only-if-cached\n        credentials: \"same-origin\",\n        // include, *same-origin, omit\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          user: user\n        }) // body data type must match \"Content-Type\" header\n\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        var errors = data.errors,\n            user = data.user;\n\n        _this3.setState({\n          email: _objectSpread({}, _this3.state.email, {\n            errors: []\n          }),\n          password: _objectSpread({}, _this3.state.password, {\n            errors: []\n          })\n        });\n\n        if (errors) {\n          var _loop = function _loop(name) {\n            var errorMessage = errors[name];\n\n            _this3.setState(function (state) {\n              return _defineProperty({}, name, _objectSpread({}, state[name], {\n                errors: [].concat(_toConsumableArray(state[name].errors), [errorMessage])\n              }));\n            });\n          };\n\n          for (var name in errors) {\n            _loop(name);\n          }\n\n          return;\n        }\n\n        if (user) {\n          var token = user.token,\n              userData = _objectWithoutProperties(user, [\"token\"]);\n\n          Cookies.create(\"token\", token, null);\n\n          _this3.props.dispatch(login(userData));\n\n          _this3.props.history.push(\"/\");\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          rest = _objectWithoutProperties(_this$props, [\"classes\"]);\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(Header, Object.assign({\n        absolute: true,\n        color: \"transparent\",\n        brand: \"AdamAndEvil\",\n        rightLinks: React.createElement(HeaderLinks, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        })\n      }, rest, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: classes.pageHeader,\n        style: {\n          backgroundImage: \"url(\" + image + \")\",\n          backgroundSize: \"cover\",\n          backgroundPosition: \"top center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(GridContainer, {\n        justify: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(GridItem, {\n        xs: 12,\n        sm: 12,\n        md: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: classes[this.state.cardAnimaton],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.submitForm,\n        className: classes.form,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        color: \"primary\",\n        className: classes.cardHeader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"div\", {\n        className: classes.socialLine,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(Button, {\n        justIcon: true,\n        href: \"#pablo\",\n        target: \"_blank\",\n        color: \"transparent\",\n        onClick: function onClick(e) {\n          return e.preventDefault();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fab fa-twitter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      })), React.createElement(Button, {\n        justIcon: true,\n        href: \"#pablo\",\n        target: \"_blank\",\n        color: \"transparent\",\n        onClick: function onClick(e) {\n          return e.preventDefault();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fab fa-facebook\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      })), React.createElement(Button, {\n        justIcon: true,\n        href: \"#pablo\",\n        target: \"_blank\",\n        color: \"transparent\",\n        onClick: function onClick(e) {\n          return e.preventDefault();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fab fa-google-plus-g\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      })))), React.createElement(\"p\", {\n        className: classes.divider,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"Or Be Classical\"), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(CustomInput, {\n        labelText: \"Email...\",\n        value: this.state.email.value,\n        errors: this.state.email.errors,\n        id: \"email\",\n        name: \"email\",\n        onChange: this.handleInputChange,\n        formControlProps: {\n          fullWidth: true\n        },\n        inputProps: {\n          type: \"email\",\n          endAdornment: React.createElement(InputAdornment, {\n            position: \"end\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 187\n            },\n            __self: this\n          }, React.createElement(Email, {\n            className: classes.inputIconsColor,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 188\n            },\n            __self: this\n          }))\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }), React.createElement(CustomInput, {\n        labelText: \"Password\",\n        value: this.state.password.value,\n        errors: this.state.password.errors,\n        id: \"pass\",\n        name: \"password\",\n        onChange: this.handleInputChange,\n        formControlProps: {\n          fullWidth: true\n        },\n        inputProps: {\n          type: \"password\",\n          endAdornment: React.createElement(InputAdornment, {\n            position: \"end\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 206\n            },\n            __self: this\n          }, React.createElement(Icon, {\n            className: classes.inputIconsColor,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 207\n            },\n            __self: this\n          }, \"lock_outline\"))\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      })), React.createElement(CardFooter, {\n        className: classes.cardFooter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"submit\",\n        simple: true,\n        color: \"primary\",\n        size: \"lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, \"Login\"))))))), React.createElement(Footer, {\n        whiteFont: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return LoginPage;\n}(React.Component);\n\nvar LoginPageContainer = connect(function (dispatch) {\n  return {\n    dispatch: dispatch\n  };\n})(LoginPage);\nexport default withStyles(loginPageStyle)(LoginPageContainer);","map":{"version":3,"sources":["/Users/sengayire.prince/Projects/react-material-kit/src/views/LoginPage/LoginPage.jsx"],"names":["React","connect","Cookies","login","withStyles","InputAdornment","Icon","Email","People","Header","HeaderLinks","Footer","GridContainer","GridItem","Button","Card","CardBody","CardHeader","CardFooter","CustomInput","loginPageStyle","image","LoginPage","props","state","cardAnimaton","email","value","errors","password","handleInputChange","bind","submitForm","setTimeout","setState","e","target","name","preventDefault","user","url","fetch","method","mode","cache","credentials","headers","body","JSON","stringify","then","res","json","data","errorMessage","token","userData","create","dispatch","history","push","classes","rest","pageHeader","backgroundImage","backgroundSize","backgroundPosition","container","form","cardHeader","socialLine","divider","fullWidth","type","endAdornment","inputIconsColor","cardFooter","Component","LoginPageContainer"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\n// utils\nimport Cookies from \"../../utils/Cookies\";\nimport { login } from \"../../store/actions\";\n// @material-ui/core components\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Icon from \"@material-ui/core/Icon\";\n// @material-ui/icons\nimport Email from \"@material-ui/icons/Email\";\nimport People from \"@material-ui/icons/People\";\n// core components\nimport Header from \"components/Header/Header.jsx\";\nimport HeaderLinks from \"components/Header/HeaderLinks.jsx\";\nimport Footer from \"components/Footer/Footer.jsx\";\nimport GridContainer from \"components/Grid/GridContainer.jsx\";\nimport GridItem from \"components/Grid/GridItem.jsx\";\nimport Button from \"components/CustomButtons/Button.jsx\";\nimport Card from \"components/Card/Card.jsx\";\nimport CardBody from \"components/Card/CardBody.jsx\";\nimport CardHeader from \"components/Card/CardHeader.jsx\";\nimport CardFooter from \"components/Card/CardFooter.jsx\";\nimport CustomInput from \"components/CustomInput/CustomInput.jsx\";\n// assets\nimport loginPageStyle from \"assets/jss/material-kit-react/views/loginPage.jsx\";\nimport image from \"assets/img/bg7.jpg\";\n\nclass LoginPage extends React.Component {\n  constructor(props) {\n    super(props);\n    // we use this to make the card to appear after the page has been rendered\n    this.state = {\n      cardAnimaton: \"cardHidden\",\n      email: {\n        value: \"\",\n        errors: []\n      },\n      password: {\n        value: \"\",\n        errors: []\n      }\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.submitForm = this.submitForm.bind(this);\n  }\n\n  componentDidMount() {\n    // we add a hidden class to the card and after 700 ms we delete it and the transition appears\n    setTimeout(\n      function() {\n        this.setState({ cardAnimaton: \"\" });\n      }.bind(this),\n      700\n    );\n  }\n  handleInputChange(e) {\n    const { name, value } = e.target;\n\n    this.setState(state => ({ [name]: { ...this.state[name], value } }));\n  }\n  submitForm(e) {\n    e.preventDefault();\n\n    const user = {\n      email: this.state.email.value,\n      password: this.state.password.value\n    };\n\n    const url = \"http://localhost:3000/api/users/login\";\n\n    fetch(url, {\n      method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n      mode: \"cors\", // no-cors, cors, *same-origin\n      cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n      credentials: \"same-origin\", // include, *same-origin, omit\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({ user }) // body data type must match \"Content-Type\" header\n    })\n      .then(res => res.json())\n      .then(data => {\n        const { errors, user } = data;\n\n        this.setState({\n          email: { ...this.state.email, errors: [] },\n          password: { ...this.state.password, errors: [] }\n        });\n\n        if (errors) {\n          for (let name in errors) {\n            const errorMessage = errors[name];\n\n            this.setState(state => ({\n              [name]: {\n                ...state[name],\n                errors: [...state[name].errors, errorMessage]\n              }\n            }));\n          }\n\n          return;\n        }\n\n        if (user) {\n          const { token, ...userData } = user;\n\n          Cookies.create(\"token\", token, null);\n\n          this.props.dispatch(login(userData));\n          this.props.history.push(\"/\");\n        }\n      });\n  }\n  render() {\n    const { classes, ...rest } = this.props;\n    return (\n      <div>\n        <Header\n          absolute\n          color=\"transparent\"\n          brand=\"AdamAndEvil\"\n          rightLinks={<HeaderLinks />}\n          {...rest}\n        />\n        <div\n          className={classes.pageHeader}\n          style={{\n            backgroundImage: \"url(\" + image + \")\",\n            backgroundSize: \"cover\",\n            backgroundPosition: \"top center\"\n          }}\n        >\n          <div className={classes.container}>\n            <GridContainer justify=\"center\">\n              <GridItem xs={12} sm={12} md={4}>\n                <Card className={classes[this.state.cardAnimaton]}>\n                  <form onSubmit={this.submitForm} className={classes.form}>\n                    <CardHeader color=\"primary\" className={classes.cardHeader}>\n                      <h4>Login</h4>\n                      <div className={classes.socialLine}>\n                        <Button\n                          justIcon\n                          href=\"#pablo\"\n                          target=\"_blank\"\n                          color=\"transparent\"\n                          onClick={e => e.preventDefault()}\n                        >\n                          <i className={\"fab fa-twitter\"} />\n                        </Button>\n                        <Button\n                          justIcon\n                          href=\"#pablo\"\n                          target=\"_blank\"\n                          color=\"transparent\"\n                          onClick={e => e.preventDefault()}\n                        >\n                          <i className={\"fab fa-facebook\"} />\n                        </Button>\n                        <Button\n                          justIcon\n                          href=\"#pablo\"\n                          target=\"_blank\"\n                          color=\"transparent\"\n                          onClick={e => e.preventDefault()}\n                        >\n                          <i className={\"fab fa-google-plus-g\"} />\n                        </Button>\n                      </div>\n                    </CardHeader>\n                    <p className={classes.divider}>Or Be Classical</p>\n                    <CardBody>\n                      <CustomInput\n                        labelText=\"Email...\"\n                        value={this.state.email.value}\n                        errors={this.state.email.errors}\n                        id=\"email\"\n                        name=\"email\"\n                        onChange={this.handleInputChange}\n                        formControlProps={{\n                          fullWidth: true\n                        }}\n                        inputProps={{\n                          type: \"email\",\n                          endAdornment: (\n                            <InputAdornment position=\"end\">\n                              <Email className={classes.inputIconsColor} />\n                            </InputAdornment>\n                          )\n                        }}\n                      />\n                      <CustomInput\n                        labelText=\"Password\"\n                        value={this.state.password.value}\n                        errors={this.state.password.errors}\n                        id=\"pass\"\n                        name=\"password\"\n                        onChange={this.handleInputChange}\n                        formControlProps={{\n                          fullWidth: true\n                        }}\n                        inputProps={{\n                          type: \"password\",\n                          endAdornment: (\n                            <InputAdornment position=\"end\">\n                              <Icon className={classes.inputIconsColor}>\n                                lock_outline\n                              </Icon>\n                            </InputAdornment>\n                          )\n                        }}\n                      />\n                    </CardBody>\n                    <CardFooter className={classes.cardFooter}>\n                      <Button type=\"submit\" simple color=\"primary\" size=\"lg\">\n                        Login\n                      </Button>\n                    </CardFooter>\n                  </form>\n                </Card>\n              </GridItem>\n            </GridContainer>\n          </div>\n          <Footer whiteFont />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst LoginPageContainer = connect(dispatch => ({ dispatch }))(LoginPage);\n\nexport default withStyles(loginPageStyle)(LoginPageContainer);\n"]},"metadata":{},"sourceType":"module"}